diff -upN st-0.9.3/config.def.h st-0.9.3-faw-patch/config.def.h
--- st-0.9.3/config.def.h	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/config.def.h	2025-12-25 21:45:58.882681909 +0300
@@ -93,46 +93,214 @@ char *termname = "st-256color";
  */
 unsigned int tabspaces = 8;
 
-/* Terminal colors (16 first used in escape sequence) */
-static const char *colorname[] = {
-	/* 8 normal colors */
-	"black",
-	"red3",
-	"green3",
-	"yellow3",
-	"blue2",
-	"magenta3",
-	"cyan3",
-	"gray90",
-
-	/* 8 bright colors */
-	"gray50",
-	"red",
-	"green",
-	"yellow",
-	"#5c5cff",
-	"magenta",
-	"cyan",
-	"white",
-
-	[255] = 0,
-
-	/* more colors can be added after 255 to use with DefaultXX */
-	"#cccccc",
-	"#555555",
-	"gray90", /* default foreground colour */
-	"black", /* default background colour */
+/* bg opacity */
+float alpha = 0.8;
+
+/* loaded if couldn't find scheme, has to be present */
+static const OptionScheme optionscheme_default = {
+	.name = "default",
+	.colors = {
+		/* 8 normal colors */
+		"black",     /* 0 */
+		"red3",      /* 1 */
+		"green3",    /* 2 */
+		"yellow3",   /* 3 */
+		"blue2",     /* 4 */
+		"magenta3",  /* 5 */
+		"cyan3",     /* 6 */
+		"gray90",    /* 7 */
+
+		/* 8 bright colors */
+		"gray50",    /* 8 */
+		"red",       /* 9 */
+		"green",     /* 10 */
+		"yellow",    /* 11 */
+		"#5c5cff",   /* 12 */
+		"magenta",   /* 13 */
+		"cyan",      /* 14 */
+		"white",     /* 15 */
+
+		[255] = 0,
+
+		/* DefaultXX colors */
+		"#cccccc",   /* 256 */
+		"#555555",   /* 257 */
+		"gray90",    /* 258 default foreground */
+		"black",     /* 259 default background */
+	},
+	.defaultfg  = 258,
+	.defaultbg  = 259,
+	.defaultcs  = 258,
+	.defaultrcs = 259,
+};
+
+static const OptionScheme optionscheme_dracula = {
+    .name = "dracula",
+    .colors = {
+        /* 8 normal */
+        [0] = "#282a36", [1] = "#ff5555", [2] = "#50fa7b", [3] = "#f1fa8c",
+        [4] = "#bd93f9", [5] = "#ff79c6", [6] = "#8be9fd", [7] = "#bbbbbb",
+        /* 8 bright */
+        [8] = "#6272a4", [9] = "#ff6e6e", [10] = "#69ff94", [11] = "#ffffa5",
+        [12] = "#d6acff", [13] = "#ff92df", [14] = "#a4ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#f8f8f2", /* cursor */
+        [257] = "#44475a", /* reverse cursor */
+        [258] = "#f8f8f2", /* fg */
+        [259] = "#282a36"  /* bg */
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_solarized = {
+    .name = "solarized",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#002b36", [1] = "#dc322f", [2] = "#859900", [3] = "#b58900",
+        [4] = "#268bd2", [5] = "#6c71c4", [6] = "#2aa198", [7] = "#93a1a1",
+        /* 8 bright colors */
+        [8] = "#657b83", [9] = "#dc322f", [10] = "#859900", [11] = "#b58900",
+        [12] = "#268bd2", [13] = "#6c71c4", [14] = "#2aa198", [15] = "#fdf6e3",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#839496", [257] = "#002b36", [258] = "#839496", [259] = "#002b36"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_nord = {
+    .name = "nord",
+    .colors = {
+        /* 8 normal */
+        [0] = "#3b4252", [1] = "#bf616a", [2] = "#a3be8c", [3] = "#ebcb8b",
+        [4] = "#81a1c1", [5] = "#b48ead", [6] = "#88c0d0", [7] = "#e5e9f0",
+        /* 8 bright */
+        [8] = "#4c566a", [9] = "#bf616a", [10] = "#a3be8c", [11] = "#ebcb8b",
+        [12] = "#81a1c1", [13] = "#b48ead", [14] = "#8fbcbb", [15] = "#eceff4",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#d8dee9", [257] = "#2e3440", [258] = "#d8dee9", [259] = "#2e3440"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_gruvbox = {
+    .name = "gruvbox",
+    .colors = {
+        /* 8 normal */
+        [0] = "#282828", [1] = "#cc241d", [2] = "#98971a", [3] = "#d79921",
+        [4] = "#458588", [5] = "#b16286", [6] = "#689d6a", [7] = "#a89984",
+        /* 8 bright */
+        [8] = "#928374", [9] = "#fb4934", [10] = "#b8bb26", [11] = "#fabd2f",
+        [12] = "#83a598", [13] = "#d3869b", [14] = "#8ec07c", [15] = "#ebdbb2",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#ebdbb2", [257] = "#282828", [258] = "#ebdbb2", [259] = "#282828"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_plan9 = {
+    .name = "plan9",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#000000", [1] = "#9c0000", [2] = "#008000", [3] = "#999900",
+        [4] = "#00009c", [5] = "#990099", [6] = "#009999", [7] = "#7f7f7f",
+        /* 8 bright colors */
+        [8] = "#c0c0c0", [9] = "#ff0000", [10] = "#00ff00", [11] = "#ffff00",
+        [12] = "#5c5cff", [13] = "#ff00ff", [14] = "#00ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX colors */
+        [256] = "#000000", [257] = "#9ecfff", [258] = "#000000", [259] = "#ffffea"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_cyberpunk = {
+    .name = "cyberpunk",
+    .colors = {
+        /* 8 normal */
+        [0] = "#0d0221", [1] = "#ff004d", [2] = "#00ff9f", [3] = "#fffa72",
+        [4] = "#00caff", [5] = "#ff00ff", [6] = "#0affef", [7] = "#a0a0a0",
+        /* 8 bright */
+        [8] = "#3a0f5c", [9] = "#ff4d79", [10] = "#4dffb8", [11] = "#fffaa0",
+        [12] = "#4dd2ff", [13] = "#ff4dff", [14] = "#4df9ff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#00ffcc", [257] = "#0d0221", [258] = "#00ffcc", [259] = "#0d0221"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
 };
 
+static const OptionScheme optionscheme_light = {
+    .name = "light",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#000000", [1] = "#d70000", [2] = "#008700", [3] = "#af8700",
+        [4] = "#005faf", [5] = "#8700af", [6] = "#00afaf", [7] = "#d0d0d0",
+        /* 8 bright colors */
+        [8] = "#808080", [9] = "#ff0000", [10] = "#00ff00", [11] = "#ffff00",
+        [12] = "#5c5cff", [13] = "#ff00ff", [14] = "#00ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX colors */
+        [256] = "#000000", [257] = "#4a90e2", [258] = "#000000", [259] = "#eeeeee"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
 
 /*
- * Default colors (colorname index)
- * foreground, background, cursor, reverse cursor
- */
-unsigned int defaultfg = 258;
-unsigned int defaultbg = 259;
-unsigned int defaultcs = 256;
-static unsigned int defaultrcs = 257;
+ * you can move the schemes to a different header and do #include "optionschemes.h"
+ * or you can move each scheme to its own file
+ * and do #include optionscheme_light.h, #include optionscheme_plan9.h, ...
+ * */
+
+static const OptionScheme *optionschemes[] = {
+    &optionscheme_default,
+    &optionscheme_light,
+    &optionscheme_plan9,
+    &optionscheme_dracula,
+    &optionscheme_solarized,
+    &optionscheme_nord,
+    &optionscheme_gruvbox,
+    &optionscheme_cyberpunk,
+    NULL /* has to be NULL terminated */
+};
 
 /*
  * Default shape of cursor
diff -upN st-0.9.3/config.h st-0.9.3-faw-patch/config.h
--- st-0.9.3/config.h	1970-01-01 03:00:00.000000000 +0300
+++ st-0.9.3-faw-patch/config.h	2025-12-25 21:51:48.749353350 +0300
@@ -0,0 +1,642 @@
+/* See LICENSE file for copyright and license details. */
+
+/*
+ * appearance
+ *
+ * font: see http://freedesktop.org/software/fontconfig/fontconfig-user.html
+ */
+static char *font = "Hack-Regular:size=9";
+static int borderpx = 1;
+
+/*
+ * What program is execed by st depends of these precedence rules:
+ * 1: program passed with -e
+ * 2: scroll and/or utmp
+ * 3: SHELL environment variable
+ * 4: value of shell in /etc/passwd
+ * 5: value of shell in config.h
+ */
+static char *shell = "/bin/sh";
+char *utmp = NULL;
+/* scroll program: to enable use a string like "scroll" */
+char *scroll = NULL;
+char *stty_args = "stty raw pass8 nl -echo -iexten -cstopb 38400";
+
+/* identification sequence returned in DA and DECID */
+char *vtiden = "\033[?6c";
+
+/* Kerning / character bounding-box multipliers */
+static float cwscale = 1.0;
+static float chscale = 1.0;
+
+/*
+ * word delimiter string
+ *
+ * More advanced example: L" `'\"()[]{}"
+ */
+wchar_t *worddelimiters = L" ";
+
+/* selection timeouts (in milliseconds) */
+static unsigned int doubleclicktimeout = 300;
+static unsigned int tripleclicktimeout = 600;
+
+/* alt screens */
+int allowaltscreen = 1;
+
+/* allow certain non-interactive (insecure) window operations such as:
+   setting the clipboard text */
+int allowwindowops = 0;
+
+/*
+ * draw latency range in ms - from new content/keypress/etc until drawing.
+ * within this range, st draws when content stops arriving (idle). mostly it's
+ * near minlatency, but it waits longer for slow updates to avoid partial draw.
+ * low minlatency will tear/flicker more, as it can "detect" idle too early.
+ */
+static double minlatency = 2;
+static double maxlatency = 33;
+
+/*
+ * blinking timeout (set to 0 to disable blinking) for the terminal blinking
+ * attribute.
+ */
+static unsigned int blinktimeout = 800;
+
+/*
+ * thickness of underline and bar cursors
+ */
+static unsigned int cursorthickness = 2;
+
+/*
+ * bell volume. It must be a value between -100 and 100. Use 0 for disabling
+ * it
+ */
+static int bellvolume = 0;
+
+/* default TERM value */
+char *termname = "st-256color";
+
+/*
+ * spaces per tab
+ *
+ * When you are changing this value, don't forget to adapt the »it« value in
+ * the st.info and appropriately install the st.info in the environment where
+ * you use this st version.
+ *
+ *	it#$tabspaces,
+ *
+ * Secondly make sure your kernel is not expanding tabs. When running `stty
+ * -a` »tab0« should appear. You can tell the terminal to not expand tabs by
+ *  running following command:
+ *
+ *	stty tabs
+ */
+unsigned int tabspaces = 8;
+
+/* bg opacity */
+float alpha = 1.0;
+
+/* loaded if couldn't find scheme, has to be present */
+static const OptionScheme optionscheme_default = {
+	.name = "default",
+	.colors = {
+		/* 8 normal colors */
+		"black",     /* 0 */
+		"red3",      /* 1 */
+		"green3",    /* 2 */
+		"yellow3",   /* 3 */
+		"blue2",     /* 4 */
+		"magenta3",  /* 5 */
+		"cyan3",     /* 6 */
+		"gray90",    /* 7 */
+
+		/* 8 bright colors */
+		"gray50",    /* 8 */
+		"red",       /* 9 */
+		"green",     /* 10 */
+		"yellow",    /* 11 */
+		"#5c5cff",   /* 12 */
+		"magenta",   /* 13 */
+		"cyan",      /* 14 */
+		"white",     /* 15 */
+
+		[255] = 0,
+
+		/* DefaultXX colors */
+		"#cccccc",   /* 256 */
+		"#555555",   /* 257 */
+		"gray90",    /* 258 default foreground */
+		"black",     /* 259 default background */
+	},
+	.defaultfg  = 258,
+	.defaultbg  = 259,
+	.defaultcs  = 258,
+	.defaultrcs = 259,
+};
+
+static const OptionScheme optionscheme_dracula = {
+    .name = "dracula",
+    .colors = {
+        /* 8 normal */
+        [0] = "#282a36", [1] = "#ff5555", [2] = "#50fa7b", [3] = "#f1fa8c",
+        [4] = "#bd93f9", [5] = "#ff79c6", [6] = "#8be9fd", [7] = "#bbbbbb",
+        /* 8 bright */
+        [8] = "#6272a4", [9] = "#ff6e6e", [10] = "#69ff94", [11] = "#ffffa5",
+        [12] = "#d6acff", [13] = "#ff92df", [14] = "#a4ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#f8f8f2", /* cursor */
+        [257] = "#44475a", /* reverse cursor */
+        [258] = "#f8f8f2", /* fg */
+        [259] = "#282a36"  /* bg */
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_solarized = {
+    .name = "solarized",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#002b36", [1] = "#dc322f", [2] = "#859900", [3] = "#b58900",
+        [4] = "#268bd2", [5] = "#6c71c4", [6] = "#2aa198", [7] = "#93a1a1",
+        /* 8 bright colors */
+        [8] = "#657b83", [9] = "#dc322f", [10] = "#859900", [11] = "#b58900",
+        [12] = "#268bd2", [13] = "#6c71c4", [14] = "#2aa198", [15] = "#fdf6e3",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#839496", [257] = "#002b36", [258] = "#839496", [259] = "#002b36"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_nord = {
+    .name = "nord",
+    .colors = {
+        /* 8 normal */
+        [0] = "#3b4252", [1] = "#bf616a", [2] = "#a3be8c", [3] = "#ebcb8b",
+        [4] = "#81a1c1", [5] = "#b48ead", [6] = "#88c0d0", [7] = "#e5e9f0",
+        /* 8 bright */
+        [8] = "#4c566a", [9] = "#bf616a", [10] = "#a3be8c", [11] = "#ebcb8b",
+        [12] = "#81a1c1", [13] = "#b48ead", [14] = "#8fbcbb", [15] = "#eceff4",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#d8dee9", [257] = "#2e3440", [258] = "#d8dee9", [259] = "#2e3440"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_gruvbox = {
+    .name = "gruvbox",
+    .colors = {
+        /* 8 normal */
+        [0] = "#282828", [1] = "#cc241d", [2] = "#98971a", [3] = "#d79921",
+        [4] = "#458588", [5] = "#b16286", [6] = "#689d6a", [7] = "#a89984",
+        /* 8 bright */
+        [8] = "#928374", [9] = "#fb4934", [10] = "#b8bb26", [11] = "#fabd2f",
+        [12] = "#83a598", [13] = "#d3869b", [14] = "#8ec07c", [15] = "#ebdbb2",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#ebdbb2", [257] = "#282828", [258] = "#ebdbb2", [259] = "#282828"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_plan9 = {
+    .name = "plan9",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#000000", [1] = "#9c0000", [2] = "#008000", [3] = "#999900",
+        [4] = "#00009c", [5] = "#990099", [6] = "#009999", [7] = "#7f7f7f",
+        /* 8 bright colors */
+        [8] = "#c0c0c0", [9] = "#ff0000", [10] = "#00ff00", [11] = "#ffff00",
+        [12] = "#5c5cff", [13] = "#ff00ff", [14] = "#00ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX colors */
+        [256] = "#000000", [257] = "#9ecfff", [258] = "#000000", [259] = "#ffffea"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_cyberpunk = {
+    .name = "cyberpunk",
+    .colors = {
+        /* 8 normal */
+        [0] = "#0d0221", [1] = "#ff004d", [2] = "#00ff9f", [3] = "#fffa72",
+        [4] = "#00caff", [5] = "#ff00ff", [6] = "#0affef", [7] = "#a0a0a0",
+        /* 8 bright */
+        [8] = "#3a0f5c", [9] = "#ff4d79", [10] = "#4dffb8", [11] = "#fffaa0",
+        [12] = "#4dd2ff", [13] = "#ff4dff", [14] = "#4df9ff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX */
+        [256] = "#00ffcc", [257] = "#0d0221", [258] = "#00ffcc", [259] = "#0d0221"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+static const OptionScheme optionscheme_light = {
+    .name = "light",
+    .colors = {
+        /* 8 normal colors */
+        [0] = "#000000", [1] = "#d70000", [2] = "#008700", [3] = "#af8700",
+        [4] = "#005faf", [5] = "#8700af", [6] = "#00afaf", [7] = "#d0d0d0",
+        /* 8 bright colors */
+        [8] = "#808080", [9] = "#ff0000", [10] = "#00ff00", [11] = "#ffff00",
+        [12] = "#5c5cff", [13] = "#ff00ff", [14] = "#00ffff", [15] = "#ffffff",
+
+        [255] = 0,
+
+        /* DefaultXX colors */
+        [256] = "#000000", [257] = "#4a90e2", [258] = "#000000", [259] = "#eeeeee"
+    },
+    .defaultfg = 258,
+    .defaultbg = 259,
+    .defaultcs = 256,
+    .defaultrcs = 257
+};
+
+/*
+ * you can move the schemes to a different header and do #include "optionschemes.h"
+ * or you can move each scheme to its own file
+ * and do #include optionscheme_light.h, #include optionscheme_plan9.h, ...
+ * */
+
+static const OptionScheme *optionschemes[] = {
+    &optionscheme_default,
+    &optionscheme_light,
+    &optionscheme_plan9,
+    &optionscheme_dracula,
+    &optionscheme_solarized,
+    &optionscheme_nord,
+    &optionscheme_gruvbox,
+    &optionscheme_cyberpunk,
+    NULL /* has to be NULL terminated */
+};
+
+/*
+ * Default shape of cursor
+ * 2: Block ("█")
+ * 4: Underline ("_")
+ * 6: Bar ("|")
+ * 7: Snowman ("☃")
+ */
+static unsigned int cursorshape = 2;
+
+/*
+ * Default columns and rows numbers
+ */
+
+static unsigned int cols = 80;
+static unsigned int rows = 24;
+
+/*
+ * Default colour and shape of the mouse cursor
+ */
+static unsigned int mouseshape = XC_xterm;
+static unsigned int mousefg = 7;
+static unsigned int mousebg = 0;
+
+/*
+ * Color used to display font attributes when fontconfig selected a font which
+ * doesn't match the ones requested.
+ */
+static unsigned int defaultattr = 11;
+
+/*
+ * Force mouse select/shortcuts while mask is active (when MODE_MOUSE is set).
+ * Note that if you want to use ShiftMask with selmasks, set this to an other
+ * modifier, set to 0 to not use it.
+ */
+static uint forcemousemod = ShiftMask;
+
+/*
+ * Internal mouse shortcuts.
+ * Beware that overloading Button1 will disable the selection.
+ */
+static MouseShortcut mshortcuts[] = {
+	/* mask                 button   function        argument       release */
+	{ XK_ANY_MOD,           Button2, selpaste,       {.i = 0},      1 },
+	{ ShiftMask,            Button4, ttysend,        {.s = "\033[5;2~"} },
+	{ XK_ANY_MOD,           Button4, ttysend,        {.s = "\031"} },
+	{ ShiftMask,            Button5, ttysend,        {.s = "\033[6;2~"} },
+	{ XK_ANY_MOD,           Button5, ttysend,        {.s = "\005"} },
+};
+
+/* Internal keyboard shortcuts. */
+#define MODKEY Mod1Mask
+#define TERMMOD (ControlMask|ShiftMask)
+
+static Shortcut shortcuts[] = {
+	/* mask                 keysym          function        argument */
+	{ XK_ANY_MOD,           XK_Break,       sendbreak,      {.i =  0} },
+	{ ControlMask,          XK_Print,       toggleprinter,  {.i =  0} },
+	{ ShiftMask,            XK_Print,       printscreen,    {.i =  0} },
+	{ XK_ANY_MOD,           XK_Print,       printsel,       {.i =  0} },
+	{ TERMMOD,              XK_J,           zoom,           {.f = +1} },
+	{ TERMMOD,              XK_K,           zoom,           {.f = -1} },
+	{ TERMMOD,              XK_Home,        zoomreset,      {.f =  0} },
+	{ TERMMOD,              XK_C,           clipcopy,       {.i =  0} },
+	{ TERMMOD,              XK_V,           clippaste,      {.i =  0} },
+	{ TERMMOD,              XK_Y,           selpaste,       {.i =  0} },
+	{ ShiftMask,            XK_Insert,      selpaste,       {.i =  0} },
+	{ TERMMOD,              XK_Num_Lock,    numlock,        {.i =  0} },
+};
+
+/*
+ * Special keys (change & recompile st.info accordingly)
+ *
+ * Mask value:
+ * * Use XK_ANY_MOD to match the key no matter modifiers state
+ * * Use XK_NO_MOD to match the key alone (no modifiers)
+ * appkey value:
+ * * 0: no value
+ * * > 0: keypad application mode enabled
+ * *   = 2: term.numlock = 1
+ * * < 0: keypad application mode disabled
+ * appcursor value:
+ * * 0: no value
+ * * > 0: cursor application mode enabled
+ * * < 0: cursor application mode disabled
+ *
+ * Be careful with the order of the definitions because st searches in
+ * this table sequentially, so any XK_ANY_MOD must be in the last
+ * position for a key.
+ */
+
+/*
+ * If you want keys other than the X11 function keys (0xFD00 - 0xFFFF)
+ * to be mapped below, add them to this array.
+ */
+static KeySym mappedkeys[] = { -1 };
+
+/*
+ * State bits to ignore when matching key or button events.  By default,
+ * numlock (Mod2Mask) and keyboard layout (XK_SWITCH_MOD) are ignored.
+ */
+static uint ignoremod = Mod2Mask|XK_SWITCH_MOD;
+
+/*
+ * This is the huge key array which defines all compatibility to the Linux
+ * world. Please decide about changes wisely.
+ */
+static Key key[] = {
+	/* keysym           mask            string      appkey appcursor */
+	{ XK_KP_Home,       ShiftMask,      "\033[2J",       0,   -1},
+	{ XK_KP_Home,       ShiftMask,      "\033[1;2H",     0,   +1},
+	{ XK_KP_Home,       XK_ANY_MOD,     "\033[H",        0,   -1},
+	{ XK_KP_Home,       XK_ANY_MOD,     "\033[1~",       0,   +1},
+	{ XK_KP_Up,         XK_ANY_MOD,     "\033Ox",       +1,    0},
+	{ XK_KP_Up,         XK_ANY_MOD,     "\033[A",        0,   -1},
+	{ XK_KP_Up,         XK_ANY_MOD,     "\033OA",        0,   +1},
+	{ XK_KP_Down,       XK_ANY_MOD,     "\033Or",       +1,    0},
+	{ XK_KP_Down,       XK_ANY_MOD,     "\033[B",        0,   -1},
+	{ XK_KP_Down,       XK_ANY_MOD,     "\033OB",        0,   +1},
+	{ XK_KP_Left,       XK_ANY_MOD,     "\033Ot",       +1,    0},
+	{ XK_KP_Left,       XK_ANY_MOD,     "\033[D",        0,   -1},
+	{ XK_KP_Left,       XK_ANY_MOD,     "\033OD",        0,   +1},
+	{ XK_KP_Right,      XK_ANY_MOD,     "\033Ov",       +1,    0},
+	{ XK_KP_Right,      XK_ANY_MOD,     "\033[C",        0,   -1},
+	{ XK_KP_Right,      XK_ANY_MOD,     "\033OC",        0,   +1},
+	{ XK_KP_Prior,      ShiftMask,      "\033[5;2~",     0,    0},
+	{ XK_KP_Prior,      XK_ANY_MOD,     "\033[5~",       0,    0},
+	{ XK_KP_Begin,      XK_ANY_MOD,     "\033[E",        0,    0},
+	{ XK_KP_End,        ControlMask,    "\033[J",       -1,    0},
+	{ XK_KP_End,        ControlMask,    "\033[1;5F",    +1,    0},
+	{ XK_KP_End,        ShiftMask,      "\033[K",       -1,    0},
+	{ XK_KP_End,        ShiftMask,      "\033[1;2F",    +1,    0},
+	{ XK_KP_End,        XK_ANY_MOD,     "\033[4~",       0,    0},
+	{ XK_KP_Next,       ShiftMask,      "\033[6;2~",     0,    0},
+	{ XK_KP_Next,       XK_ANY_MOD,     "\033[6~",       0,    0},
+	{ XK_KP_Insert,     ShiftMask,      "\033[2;2~",    +1,    0},
+	{ XK_KP_Insert,     ShiftMask,      "\033[4l",      -1,    0},
+	{ XK_KP_Insert,     ControlMask,    "\033[L",       -1,    0},
+	{ XK_KP_Insert,     ControlMask,    "\033[2;5~",    +1,    0},
+	{ XK_KP_Insert,     XK_ANY_MOD,     "\033[4h",      -1,    0},
+	{ XK_KP_Insert,     XK_ANY_MOD,     "\033[2~",      +1,    0},
+	{ XK_KP_Delete,     ControlMask,    "\033[M",       -1,    0},
+	{ XK_KP_Delete,     ControlMask,    "\033[3;5~",    +1,    0},
+	{ XK_KP_Delete,     ShiftMask,      "\033[2K",      -1,    0},
+	{ XK_KP_Delete,     ShiftMask,      "\033[3;2~",    +1,    0},
+	{ XK_KP_Delete,     XK_ANY_MOD,     "\033[P",       -1,    0},
+	{ XK_KP_Delete,     XK_ANY_MOD,     "\033[3~",      +1,    0},
+	{ XK_KP_Multiply,   XK_ANY_MOD,     "\033Oj",       +2,    0},
+	{ XK_KP_Add,        XK_ANY_MOD,     "\033Ok",       +2,    0},
+	{ XK_KP_Enter,      XK_ANY_MOD,     "\033OM",       +2,    0},
+	{ XK_KP_Enter,      XK_ANY_MOD,     "\r",           -1,    0},
+	{ XK_KP_Subtract,   XK_ANY_MOD,     "\033Om",       +2,    0},
+	{ XK_KP_Decimal,    XK_ANY_MOD,     "\033On",       +2,    0},
+	{ XK_KP_Divide,     XK_ANY_MOD,     "\033Oo",       +2,    0},
+	{ XK_KP_0,          XK_ANY_MOD,     "\033Op",       +2,    0},
+	{ XK_KP_1,          XK_ANY_MOD,     "\033Oq",       +2,    0},
+	{ XK_KP_2,          XK_ANY_MOD,     "\033Or",       +2,    0},
+	{ XK_KP_3,          XK_ANY_MOD,     "\033Os",       +2,    0},
+	{ XK_KP_4,          XK_ANY_MOD,     "\033Ot",       +2,    0},
+	{ XK_KP_5,          XK_ANY_MOD,     "\033Ou",       +2,    0},
+	{ XK_KP_6,          XK_ANY_MOD,     "\033Ov",       +2,    0},
+	{ XK_KP_7,          XK_ANY_MOD,     "\033Ow",       +2,    0},
+	{ XK_KP_8,          XK_ANY_MOD,     "\033Ox",       +2,    0},
+	{ XK_KP_9,          XK_ANY_MOD,     "\033Oy",       +2,    0},
+	{ XK_Up,            ShiftMask,      "\033[1;2A",     0,    0},
+	{ XK_Up,            Mod1Mask,       "\033[1;3A",     0,    0},
+	{ XK_Up,         ShiftMask|Mod1Mask,"\033[1;4A",     0,    0},
+	{ XK_Up,            ControlMask,    "\033[1;5A",     0,    0},
+	{ XK_Up,      ShiftMask|ControlMask,"\033[1;6A",     0,    0},
+	{ XK_Up,       ControlMask|Mod1Mask,"\033[1;7A",     0,    0},
+	{ XK_Up,ShiftMask|ControlMask|Mod1Mask,"\033[1;8A",  0,    0},
+	{ XK_Up,            XK_ANY_MOD,     "\033[A",        0,   -1},
+	{ XK_Up,            XK_ANY_MOD,     "\033OA",        0,   +1},
+	{ XK_Down,          ShiftMask,      "\033[1;2B",     0,    0},
+	{ XK_Down,          Mod1Mask,       "\033[1;3B",     0,    0},
+	{ XK_Down,       ShiftMask|Mod1Mask,"\033[1;4B",     0,    0},
+	{ XK_Down,          ControlMask,    "\033[1;5B",     0,    0},
+	{ XK_Down,    ShiftMask|ControlMask,"\033[1;6B",     0,    0},
+	{ XK_Down,     ControlMask|Mod1Mask,"\033[1;7B",     0,    0},
+	{ XK_Down,ShiftMask|ControlMask|Mod1Mask,"\033[1;8B",0,    0},
+	{ XK_Down,          XK_ANY_MOD,     "\033[B",        0,   -1},
+	{ XK_Down,          XK_ANY_MOD,     "\033OB",        0,   +1},
+	{ XK_Left,          ShiftMask,      "\033[1;2D",     0,    0},
+	{ XK_Left,          Mod1Mask,       "\033[1;3D",     0,    0},
+	{ XK_Left,       ShiftMask|Mod1Mask,"\033[1;4D",     0,    0},
+	{ XK_Left,          ControlMask,    "\033[1;5D",     0,    0},
+	{ XK_Left,    ShiftMask|ControlMask,"\033[1;6D",     0,    0},
+	{ XK_Left,     ControlMask|Mod1Mask,"\033[1;7D",     0,    0},
+	{ XK_Left,ShiftMask|ControlMask|Mod1Mask,"\033[1;8D",0,    0},
+	{ XK_Left,          XK_ANY_MOD,     "\033[D",        0,   -1},
+	{ XK_Left,          XK_ANY_MOD,     "\033OD",        0,   +1},
+	{ XK_Right,         ShiftMask,      "\033[1;2C",     0,    0},
+	{ XK_Right,         Mod1Mask,       "\033[1;3C",     0,    0},
+	{ XK_Right,      ShiftMask|Mod1Mask,"\033[1;4C",     0,    0},
+	{ XK_Right,         ControlMask,    "\033[1;5C",     0,    0},
+	{ XK_Right,   ShiftMask|ControlMask,"\033[1;6C",     0,    0},
+	{ XK_Right,    ControlMask|Mod1Mask,"\033[1;7C",     0,    0},
+	{ XK_Right,ShiftMask|ControlMask|Mod1Mask,"\033[1;8C",0,   0},
+	{ XK_Right,         XK_ANY_MOD,     "\033[C",        0,   -1},
+	{ XK_Right,         XK_ANY_MOD,     "\033OC",        0,   +1},
+	{ XK_ISO_Left_Tab,  ShiftMask,      "\033[Z",        0,    0},
+	{ XK_Return,        Mod1Mask,       "\033\r",        0,    0},
+	{ XK_Return,        XK_ANY_MOD,     "\r",            0,    0},
+	{ XK_Insert,        ShiftMask,      "\033[4l",      -1,    0},
+	{ XK_Insert,        ShiftMask,      "\033[2;2~",    +1,    0},
+	{ XK_Insert,        ControlMask,    "\033[L",       -1,    0},
+	{ XK_Insert,        ControlMask,    "\033[2;5~",    +1,    0},
+	{ XK_Insert,        XK_ANY_MOD,     "\033[4h",      -1,    0},
+	{ XK_Insert,        XK_ANY_MOD,     "\033[2~",      +1,    0},
+	{ XK_Delete,        ControlMask,    "\033[M",       -1,    0},
+	{ XK_Delete,        ControlMask,    "\033[3;5~",    +1,    0},
+	{ XK_Delete,        ShiftMask,      "\033[2K",      -1,    0},
+	{ XK_Delete,        ShiftMask,      "\033[3;2~",    +1,    0},
+	{ XK_Delete,        XK_ANY_MOD,     "\033[P",       -1,    0},
+	{ XK_Delete,        XK_ANY_MOD,     "\033[3~",      +1,    0},
+	{ XK_BackSpace,     XK_NO_MOD,      "\177",          0,    0},
+	{ XK_BackSpace,     Mod1Mask,       "\033\177",      0,    0},
+	{ XK_Home,          ShiftMask,      "\033[2J",       0,   -1},
+	{ XK_Home,          ShiftMask,      "\033[1;2H",     0,   +1},
+	{ XK_Home,          XK_ANY_MOD,     "\033[H",        0,   -1},
+	{ XK_Home,          XK_ANY_MOD,     "\033[1~",       0,   +1},
+	{ XK_End,           ControlMask,    "\033[J",       -1,    0},
+	{ XK_End,           ControlMask,    "\033[1;5F",    +1,    0},
+	{ XK_End,           ShiftMask,      "\033[K",       -1,    0},
+	{ XK_End,           ShiftMask,      "\033[1;2F",    +1,    0},
+	{ XK_End,           XK_ANY_MOD,     "\033[4~",       0,    0},
+	{ XK_Prior,         ControlMask,    "\033[5;5~",     0,    0},
+	{ XK_Prior,         ShiftMask,      "\033[5;2~",     0,    0},
+	{ XK_Prior,         XK_ANY_MOD,     "\033[5~",       0,    0},
+	{ XK_Next,          ControlMask,    "\033[6;5~",     0,    0},
+	{ XK_Next,          ShiftMask,      "\033[6;2~",     0,    0},
+	{ XK_Next,          XK_ANY_MOD,     "\033[6~",       0,    0},
+	{ XK_F1,            XK_NO_MOD,      "\033OP" ,       0,    0},
+	{ XK_F1, /* F13 */  ShiftMask,      "\033[1;2P",     0,    0},
+	{ XK_F1, /* F25 */  ControlMask,    "\033[1;5P",     0,    0},
+	{ XK_F1, /* F37 */  Mod4Mask,       "\033[1;6P",     0,    0},
+	{ XK_F1, /* F49 */  Mod1Mask,       "\033[1;3P",     0,    0},
+	{ XK_F1, /* F61 */  Mod3Mask,       "\033[1;4P",     0,    0},
+	{ XK_F2,            XK_NO_MOD,      "\033OQ" ,       0,    0},
+	{ XK_F2, /* F14 */  ShiftMask,      "\033[1;2Q",     0,    0},
+	{ XK_F2, /* F26 */  ControlMask,    "\033[1;5Q",     0,    0},
+	{ XK_F2, /* F38 */  Mod4Mask,       "\033[1;6Q",     0,    0},
+	{ XK_F2, /* F50 */  Mod1Mask,       "\033[1;3Q",     0,    0},
+	{ XK_F2, /* F62 */  Mod3Mask,       "\033[1;4Q",     0,    0},
+	{ XK_F3,            XK_NO_MOD,      "\033OR" ,       0,    0},
+	{ XK_F3, /* F15 */  ShiftMask,      "\033[1;2R",     0,    0},
+	{ XK_F3, /* F27 */  ControlMask,    "\033[1;5R",     0,    0},
+	{ XK_F3, /* F39 */  Mod4Mask,       "\033[1;6R",     0,    0},
+	{ XK_F3, /* F51 */  Mod1Mask,       "\033[1;3R",     0,    0},
+	{ XK_F3, /* F63 */  Mod3Mask,       "\033[1;4R",     0,    0},
+	{ XK_F4,            XK_NO_MOD,      "\033OS" ,       0,    0},
+	{ XK_F4, /* F16 */  ShiftMask,      "\033[1;2S",     0,    0},
+	{ XK_F4, /* F28 */  ControlMask,    "\033[1;5S",     0,    0},
+	{ XK_F4, /* F40 */  Mod4Mask,       "\033[1;6S",     0,    0},
+	{ XK_F4, /* F52 */  Mod1Mask,       "\033[1;3S",     0,    0},
+	{ XK_F5,            XK_NO_MOD,      "\033[15~",      0,    0},
+	{ XK_F5, /* F17 */  ShiftMask,      "\033[15;2~",    0,    0},
+	{ XK_F5, /* F29 */  ControlMask,    "\033[15;5~",    0,    0},
+	{ XK_F5, /* F41 */  Mod4Mask,       "\033[15;6~",    0,    0},
+	{ XK_F5, /* F53 */  Mod1Mask,       "\033[15;3~",    0,    0},
+	{ XK_F6,            XK_NO_MOD,      "\033[17~",      0,    0},
+	{ XK_F6, /* F18 */  ShiftMask,      "\033[17;2~",    0,    0},
+	{ XK_F6, /* F30 */  ControlMask,    "\033[17;5~",    0,    0},
+	{ XK_F6, /* F42 */  Mod4Mask,       "\033[17;6~",    0,    0},
+	{ XK_F6, /* F54 */  Mod1Mask,       "\033[17;3~",    0,    0},
+	{ XK_F7,            XK_NO_MOD,      "\033[18~",      0,    0},
+	{ XK_F7, /* F19 */  ShiftMask,      "\033[18;2~",    0,    0},
+	{ XK_F7, /* F31 */  ControlMask,    "\033[18;5~",    0,    0},
+	{ XK_F7, /* F43 */  Mod4Mask,       "\033[18;6~",    0,    0},
+	{ XK_F7, /* F55 */  Mod1Mask,       "\033[18;3~",    0,    0},
+	{ XK_F8,            XK_NO_MOD,      "\033[19~",      0,    0},
+	{ XK_F8, /* F20 */  ShiftMask,      "\033[19;2~",    0,    0},
+	{ XK_F8, /* F32 */  ControlMask,    "\033[19;5~",    0,    0},
+	{ XK_F8, /* F44 */  Mod4Mask,       "\033[19;6~",    0,    0},
+	{ XK_F8, /* F56 */  Mod1Mask,       "\033[19;3~",    0,    0},
+	{ XK_F9,            XK_NO_MOD,      "\033[20~",      0,    0},
+	{ XK_F9, /* F21 */  ShiftMask,      "\033[20;2~",    0,    0},
+	{ XK_F9, /* F33 */  ControlMask,    "\033[20;5~",    0,    0},
+	{ XK_F9, /* F45 */  Mod4Mask,       "\033[20;6~",    0,    0},
+	{ XK_F9, /* F57 */  Mod1Mask,       "\033[20;3~",    0,    0},
+	{ XK_F10,           XK_NO_MOD,      "\033[21~",      0,    0},
+	{ XK_F10, /* F22 */ ShiftMask,      "\033[21;2~",    0,    0},
+	{ XK_F10, /* F34 */ ControlMask,    "\033[21;5~",    0,    0},
+	{ XK_F10, /* F46 */ Mod4Mask,       "\033[21;6~",    0,    0},
+	{ XK_F10, /* F58 */ Mod1Mask,       "\033[21;3~",    0,    0},
+	{ XK_F11,           XK_NO_MOD,      "\033[23~",      0,    0},
+	{ XK_F11, /* F23 */ ShiftMask,      "\033[23;2~",    0,    0},
+	{ XK_F11, /* F35 */ ControlMask,    "\033[23;5~",    0,    0},
+	{ XK_F11, /* F47 */ Mod4Mask,       "\033[23;6~",    0,    0},
+	{ XK_F11, /* F59 */ Mod1Mask,       "\033[23;3~",    0,    0},
+	{ XK_F12,           XK_NO_MOD,      "\033[24~",      0,    0},
+	{ XK_F12, /* F24 */ ShiftMask,      "\033[24;2~",    0,    0},
+	{ XK_F12, /* F36 */ ControlMask,    "\033[24;5~",    0,    0},
+	{ XK_F12, /* F48 */ Mod4Mask,       "\033[24;6~",    0,    0},
+	{ XK_F12, /* F60 */ Mod1Mask,       "\033[24;3~",    0,    0},
+	{ XK_F13,           XK_NO_MOD,      "\033[1;2P",     0,    0},
+	{ XK_F14,           XK_NO_MOD,      "\033[1;2Q",     0,    0},
+	{ XK_F15,           XK_NO_MOD,      "\033[1;2R",     0,    0},
+	{ XK_F16,           XK_NO_MOD,      "\033[1;2S",     0,    0},
+	{ XK_F17,           XK_NO_MOD,      "\033[15;2~",    0,    0},
+	{ XK_F18,           XK_NO_MOD,      "\033[17;2~",    0,    0},
+	{ XK_F19,           XK_NO_MOD,      "\033[18;2~",    0,    0},
+	{ XK_F20,           XK_NO_MOD,      "\033[19;2~",    0,    0},
+	{ XK_F21,           XK_NO_MOD,      "\033[20;2~",    0,    0},
+	{ XK_F22,           XK_NO_MOD,      "\033[21;2~",    0,    0},
+	{ XK_F23,           XK_NO_MOD,      "\033[23;2~",    0,    0},
+	{ XK_F24,           XK_NO_MOD,      "\033[24;2~",    0,    0},
+	{ XK_F25,           XK_NO_MOD,      "\033[1;5P",     0,    0},
+	{ XK_F26,           XK_NO_MOD,      "\033[1;5Q",     0,    0},
+	{ XK_F27,           XK_NO_MOD,      "\033[1;5R",     0,    0},
+	{ XK_F28,           XK_NO_MOD,      "\033[1;5S",     0,    0},
+	{ XK_F29,           XK_NO_MOD,      "\033[15;5~",    0,    0},
+	{ XK_F30,           XK_NO_MOD,      "\033[17;5~",    0,    0},
+	{ XK_F31,           XK_NO_MOD,      "\033[18;5~",    0,    0},
+	{ XK_F32,           XK_NO_MOD,      "\033[19;5~",    0,    0},
+	{ XK_F33,           XK_NO_MOD,      "\033[20;5~",    0,    0},
+	{ XK_F34,           XK_NO_MOD,      "\033[21;5~",    0,    0},
+	{ XK_F35,           XK_NO_MOD,      "\033[23;5~",    0,    0},
+};
+
+/*
+ * Selection types' masks.
+ * Use the same masks as usual.
+ * Button1Mask is always unset, to make masks match between ButtonPress.
+ * ButtonRelease and MotionNotify.
+ * If no match is found, regular selection is used.
+ */
+static uint selmasks[] = {
+	[SEL_RECTANGULAR] = Mod1Mask,
+};
+
+/*
+ * Printable characters in ASCII, used to estimate the advance width
+ * of single wide characters.
+ */
+static char ascii_printable[] =
+	" !\"#$%&'()*+,-./0123456789:;<=>?"
+	"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_"
+	"`abcdefghijklmnopqrstuvwxyz{|}~";
diff -upN st-0.9.3/config.mk st-0.9.3-faw-patch/config.mk
--- st-0.9.3/config.mk	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/config.mk	2025-12-25 21:49:25.976018072 +0300
@@ -4,7 +4,7 @@ VERSION = 0.9.3
 # Customize below to fit your system
 
 # paths
-PREFIX = /usr/local
+PREFIX = ~/.local
 MANPREFIX = $(PREFIX)/share/man
 
 X11INC = /usr/X11R6/include
diff -upN st-0.9.3/st.1 st-0.9.3-faw-patch/st.1
--- st-0.9.3/st.1	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/st.1	2025-12-25 21:45:58.882681909 +0300
@@ -4,6 +4,8 @@ st \- simple terminal
 .SH SYNOPSIS
 .B st
 .RB [ \-aiv ]
+.RB [ \-S
+.IR colorscheme ]
 .RB [ \-c
 .IR class ]
 .RB [ \-f
@@ -28,6 +30,8 @@ st \- simple terminal
 .PP
 .B st
 .RB [ \-aiv ]
+.RB [ \-S
+.IR colorscheme ]
 .RB [ \-c
 .IR class ]
 .RB [ \-f
@@ -55,6 +59,22 @@ is a simple terminal emulator.
 .B \-a
 disable alternate screens in terminal
 .TP
+.BI \-S " scheme"
+Sets the terminal color scheme.
+The following schemes are supported:
+.BR default ,
+.BR light ,
+.BR plan9 ,
+.BR dracula ,
+.BR solarized ,
+.BR nord ,
+.BR gruvbox ,
+and
+.BR cyberpunk .
+If no scheme is specified, or if an unknown scheme is given,
+.B default
+is used.
+.TP
 .BI \-c " class"
 defines the window class (default $TERM).
 .TP
diff -upN st-0.9.3/st.c st-0.9.3-faw-patch/st.c
--- st-0.9.3/st.c	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/st.c	2025-12-25 21:45:58.882681909 +0300
@@ -1014,8 +1014,8 @@ treset(void)
 
 	term.c = (TCursor){{
 		.mode = ATTR_NULL,
-		.fg = defaultfg,
-		.bg = defaultbg
+		.fg = seloptsch->defaultfg,
+		.bg = seloptsch->defaultbg
 	}, .x = 0, .y = 0, .state = CURSOR_DEFAULT};
 
 	memset(term.tabs, 0, term.col * sizeof(*term.tabs));
@@ -1038,7 +1038,7 @@ treset(void)
 void
 tnew(int col, int row)
 {
-	term = (Term){ .c = { .attr = { .fg = defaultfg, .bg = defaultbg } } };
+	term = (Term){ .c = { .attr = { .fg = seloptsch->defaultfg, .bg = seloptsch->defaultbg } } };
 	tresize(col, row);
 	treset();
 }
@@ -1366,8 +1366,8 @@ tsetattr(const int *attr, int l)
 				ATTR_REVERSE    |
 				ATTR_INVISIBLE  |
 				ATTR_STRUCK     );
-			term.c.attr.fg = defaultfg;
-			term.c.attr.bg = defaultbg;
+			term.c.attr.fg = seloptsch->defaultfg;
+			term.c.attr.bg = seloptsch->defaultbg;
 			break;
 		case 1:
 			term.c.attr.mode |= ATTR_BOLD;
@@ -1421,14 +1421,14 @@ tsetattr(const int *attr, int l)
 				term.c.attr.fg = idx;
 			break;
 		case 39: /* set foreground color to default */
-			term.c.attr.fg = defaultfg;
+			term.c.attr.fg = seloptsch->defaultfg;
 			break;
 		case 48:
 			if ((idx = tdefcolor(attr, &i, l)) >= 0)
 				term.c.attr.bg = idx;
 			break;
 		case 49: /* set background color to default */
-			term.c.attr.bg = defaultbg;
+			term.c.attr.bg = seloptsch->defaultbg;
 			break;
 		case 58:
 			/* This starts a sequence to change the color of
@@ -1887,9 +1887,9 @@ strhandle(void)
 	char *p = NULL, *dec;
 	int j, narg, par;
 	const struct { int idx; char *str; } osc_table[] = {
-		{ defaultfg, "foreground" },
-		{ defaultbg, "background" },
-		{ defaultcs, "cursor" }
+		{ seloptsch->defaultfg, "foreground" },
+		{ seloptsch->defaultbg, "background" },
+		{ seloptsch->defaultcs, "cursor" }
 	};
 
 	term.esc &= ~(ESC_STR_END|ESC_STR);
diff -upN st-0.9.3/st.h st-0.9.3-faw-patch/st.h
--- st-0.9.3/st.h	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/st.h	2025-12-25 21:45:58.882681909 +0300
@@ -59,6 +59,15 @@ typedef unsigned short ushort;
 
 typedef uint_least32_t Rune;
 
+typedef struct {
+	const char *name;
+	const char *colors[260];
+	unsigned int defaultfg;
+	unsigned int defaultbg;
+	unsigned int defaultcs;
+	unsigned int defaultrcs;
+} OptionScheme;
+
 #define Glyph Glyph_
 typedef struct {
 	Rune u;           /* character code */
@@ -121,6 +130,4 @@ extern int allowaltscreen;
 extern int allowwindowops;
 extern char *termname;
 extern unsigned int tabspaces;
-extern unsigned int defaultfg;
-extern unsigned int defaultbg;
-extern unsigned int defaultcs;
+extern const OptionScheme *seloptsch;
diff -upN st-0.9.3/x.c st-0.9.3-faw-patch/x.c
--- st-0.9.3/x.c	2025-08-09 16:00:58.350298234 +0300
+++ st-0.9.3-faw-patch/x.c	2025-12-25 21:45:58.886015242 +0300
@@ -105,6 +105,7 @@ typedef struct {
 	XSetWindowAttributes attrs;
 	int scr;
 	int isfixed; /* is fixed geometry? */
+	int depth; /* bit depth */
 	int l, t; /* left and top offset */
 	int gm; /* geometry mask */
 } XWindow;
@@ -140,6 +141,8 @@ typedef struct {
 	GC gc;
 } DC;
 
+const OptionScheme *seloptsch = &optionscheme_default;
+static const char *seloptschname = NULL;
 static inline ushort sixd_to_16bit(int);
 static int xmakeglyphfontspecs(XftGlyphFontSpec *, const Glyph *, int, int, int);
 static void xdrawglyphfontspecs(const XftGlyphFontSpec *, Glyph, int, int, int);
@@ -151,6 +154,7 @@ static void ximinstantiate(Display *, XP
 static void ximdestroy(XIM, XPointer, XPointer);
 static int xicdestroy(XIC, XPointer, XPointer);
 static void xinit(int, int);
+static int countoptsch();
 static void cresize(int, int);
 static void xresize(int, int);
 static void xhints(void);
@@ -752,7 +756,7 @@ xresize(int col, int row)
 
 	XFreePixmap(xw.dpy, xw.buf);
 	xw.buf = XCreatePixmap(xw.dpy, xw.win, win.w, win.h,
-			DefaultDepth(xw.dpy, xw.scr));
+			xw.depth);
 	XftDrawChange(xw.draw, xw.buf);
 	xclear(0, 0, win.w, win.h);
 
@@ -784,7 +788,7 @@ xloadcolor(int i, const char *name, Colo
 			return XftColorAllocValue(xw.dpy, xw.vis,
 			                          xw.cmap, &color, ncolor);
 		} else
-			name = colorname[i];
+			name = seloptsch->colors[i];
 	}
 
 	return XftColorAllocName(xw.dpy, xw.vis, xw.cmap, name, ncolor);
@@ -801,17 +805,21 @@ xloadcols(void)
 		for (cp = dc.col; cp < &dc.col[dc.collen]; ++cp)
 			XftColorFree(xw.dpy, xw.vis, xw.cmap, cp);
 	} else {
-		dc.collen = MAX(LEN(colorname), 256);
+		dc.collen = MAX(LEN(seloptsch->colors), 256);
 		dc.col = xmalloc(dc.collen * sizeof(Color));
 	}
 
 	for (i = 0; i < dc.collen; i++)
 		if (!xloadcolor(i, NULL, &dc.col[i])) {
-			if (colorname[i])
-				die("could not allocate color '%s'\n", colorname[i]);
+			if (seloptsch->colors[i])
+				die("could not allocate color '%s'\n", seloptsch->colors[i]);
 			else
 				die("could not allocate color %d\n", i);
 		}
+
+	dc.col[seloptsch->defaultbg].color.alpha = (unsigned short)(0xffff * alpha);
+	dc.col[seloptsch->defaultbg].pixel &= 0x00FFFFFF;
+	dc.col[seloptsch->defaultbg].pixel |= (unsigned char)(0xff * alpha) << 24;
 	loaded = 1;
 }
 
@@ -842,6 +850,12 @@ xsetcolorname(int x, const char *name)
 	XftColorFree(xw.dpy, xw.vis, xw.cmap, &dc.col[x]);
 	dc.col[x] = ncolor;
 
+	if (x == seloptsch->defaultbg) {
+		dc.col[seloptsch->defaultbg].color.alpha = (unsigned short)(0xffff * alpha);
+		dc.col[seloptsch->defaultbg].pixel &= 0x00FFFFFF;
+		dc.col[seloptsch->defaultbg].pixel |= (unsigned char)(0xff * alpha) << 24;
+	}
+
 	return 0;
 }
 
@@ -852,7 +866,7 @@ void
 xclear(int x1, int y1, int x2, int y2)
 {
 	XftDrawRect(xw.draw,
-			&dc.col[IS_SET(MODE_REVERSE)? defaultfg : defaultbg],
+			&dc.col[IS_SET(MODE_REVERSE)? seloptsch->defaultfg : seloptsch->defaultbg],
 			x1, y1, x2-x1, y2-y1);
 }
 
@@ -1126,6 +1140,15 @@ xicdestroy(XIC xim, XPointer client, XPo
 	return 1;
 }
 
+int
+countoptsch()
+{ 
+	int i, optsch_limit = 256;
+	for(i = 0; optionschemes[i] != NULL && i < optsch_limit; i++)
+		;
+	return i;
+}
+
 void
 xinit(int cols, int rows)
 {
@@ -1134,11 +1157,25 @@ xinit(int cols, int rows)
 	Window parent, root;
 	pid_t thispid = getpid();
 	XColor xmousefg, xmousebg;
+	XWindowAttributes attr;
+	XVisualInfo vis;
 
 	if (!(xw.dpy = XOpenDisplay(NULL)))
 		die("can't open display\n");
 	xw.scr = XDefaultScreen(xw.dpy);
-	xw.vis = XDefaultVisual(xw.dpy, xw.scr);
+
+	root = XRootWindow(xw.dpy, xw.scr);
+	if (!(opt_embed && (parent = strtol(opt_embed, NULL, 0))))
+		parent = root;
+
+	if (XMatchVisualInfo(xw.dpy, xw.scr, 32, TrueColor, &vis) != 0) {
+		xw.vis = vis.visual;
+		xw.depth = vis.depth;
+	} else {
+		XGetWindowAttributes(xw.dpy, parent, &attr);
+		xw.vis = attr.visual;
+		xw.depth = attr.depth;
+	}
 
 	/* font */
 	if (!FcInit())
@@ -1148,7 +1185,16 @@ xinit(int cols, int rows)
 	xloadfonts(usedfont, 0);
 
 	/* colors */
-	xw.cmap = XDefaultColormap(xw.dpy, xw.scr);
+	if (seloptschname) {
+		int optschcount = countoptsch();
+		for (int i = 0; optionschemes[i] && i < optschcount; i++) {
+			if (strcmp(optionschemes[i]->name, seloptschname) == 0) {
+				seloptsch = optionschemes[i];
+				break;
+			}
+		}
+	}
+	xw.cmap = XCreateColormap(xw.dpy, parent, xw.vis, None);
 	xloadcols();
 
 	/* adjust fixed window geometry */
@@ -1160,19 +1206,16 @@ xinit(int cols, int rows)
 		xw.t += DisplayHeight(xw.dpy, xw.scr) - win.h - 2;
 
 	/* Events */
-	xw.attrs.background_pixel = dc.col[defaultbg].pixel;
-	xw.attrs.border_pixel = dc.col[defaultbg].pixel;
+	xw.attrs.background_pixel = dc.col[seloptsch->defaultbg].pixel;
+	xw.attrs.border_pixel = dc.col[seloptsch->defaultbg].pixel;
 	xw.attrs.bit_gravity = NorthWestGravity;
 	xw.attrs.event_mask = FocusChangeMask | KeyPressMask | KeyReleaseMask
 		| ExposureMask | VisibilityChangeMask | StructureNotifyMask
 		| ButtonMotionMask | ButtonPressMask | ButtonReleaseMask;
 	xw.attrs.colormap = xw.cmap;
 
-	root = XRootWindow(xw.dpy, xw.scr);
-	if (!(opt_embed && (parent = strtol(opt_embed, NULL, 0))))
-		parent = root;
-	xw.win = XCreateWindow(xw.dpy, root, xw.l, xw.t,
-			win.w, win.h, 0, XDefaultDepth(xw.dpy, xw.scr), InputOutput,
+	xw.win = XCreateWindow(xw.dpy, parent, xw.l, xw.t,
+			win.w, win.h, 0, xw.depth, InputOutput,
 			xw.vis, CWBackPixel | CWBorderPixel | CWBitGravity
 			| CWEventMask | CWColormap, &xw.attrs);
 	if (parent != root)
@@ -1183,8 +1226,8 @@ xinit(int cols, int rows)
 	dc.gc = XCreateGC(xw.dpy, xw.win, GCGraphicsExposures,
 			&gcvalues);
 	xw.buf = XCreatePixmap(xw.dpy, xw.win, win.w, win.h,
-			DefaultDepth(xw.dpy, xw.scr));
-	XSetForeground(xw.dpy, dc.gc, dc.col[defaultbg].pixel);
+			xw.depth);
+	XSetForeground(xw.dpy, dc.gc, dc.col[seloptsch->defaultbg].pixel);
 	XFillRectangle(xw.dpy, xw.buf, dc.gc, 0, 0, win.w, win.h);
 
 	/* font spec buffer */
@@ -1203,13 +1246,13 @@ xinit(int cols, int rows)
 	cursor = XCreateFontCursor(xw.dpy, mouseshape);
 	XDefineCursor(xw.dpy, xw.win, cursor);
 
-	if (XParseColor(xw.dpy, xw.cmap, colorname[mousefg], &xmousefg) == 0) {
+	if (XParseColor(xw.dpy, xw.cmap, seloptsch->colors[mousefg], &xmousefg) == 0) {
 		xmousefg.red   = 0xffff;
 		xmousefg.green = 0xffff;
 		xmousefg.blue  = 0xffff;
 	}
 
-	if (XParseColor(xw.dpy, xw.cmap, colorname[mousebg], &xmousebg) == 0) {
+	if (XParseColor(xw.dpy, xw.cmap, seloptsch->colors[mousebg], &xmousebg) == 0) {
 		xmousebg.red   = 0x0000;
 		xmousebg.green = 0x0000;
 		xmousebg.blue  = 0x0000;
@@ -1420,8 +1463,8 @@ xdrawglyphfontspecs(const XftGlyphFontSp
 		fg = &dc.col[base.fg + 8];
 
 	if (IS_SET(MODE_REVERSE)) {
-		if (fg == &dc.col[defaultfg]) {
-			fg = &dc.col[defaultbg];
+		if (fg == &dc.col[seloptsch->defaultfg]) {
+			fg = &dc.col[seloptsch->defaultbg];
 		} else {
 			colfg.red = ~fg->color.red;
 			colfg.green = ~fg->color.green;
@@ -1432,8 +1475,8 @@ xdrawglyphfontspecs(const XftGlyphFontSp
 			fg = &revfg;
 		}
 
-		if (bg == &dc.col[defaultbg]) {
-			bg = &dc.col[defaultfg];
+		if (bg == &dc.col[seloptsch->defaultbg]) {
+			bg = &dc.col[seloptsch->defaultfg];
 		} else {
 			colbg.red = ~bg->color.red;
 			colbg.green = ~bg->color.green;
@@ -1539,21 +1582,21 @@ xdrawcursor(int cx, int cy, Glyph g, int
 
 	if (IS_SET(MODE_REVERSE)) {
 		g.mode |= ATTR_REVERSE;
-		g.bg = defaultfg;
+		g.bg = seloptsch->defaultfg;
 		if (selected(cx, cy)) {
-			drawcol = dc.col[defaultcs];
-			g.fg = defaultrcs;
+			drawcol = dc.col[seloptsch->defaultcs];
+			g.fg = seloptsch->defaultrcs;
 		} else {
-			drawcol = dc.col[defaultrcs];
-			g.fg = defaultcs;
+			drawcol = dc.col[seloptsch->defaultrcs];
+			g.fg = seloptsch->defaultcs;
 		}
 	} else {
 		if (selected(cx, cy)) {
-			g.fg = defaultfg;
-			g.bg = defaultrcs;
+			g.fg = seloptsch->defaultfg;
+			g.bg = seloptsch->defaultrcs;
 		} else {
-			g.fg = defaultbg;
-			g.bg = defaultcs;
+			g.fg = seloptsch->defaultbg;
+			g.bg = seloptsch->defaultcs;
 		}
 		drawcol = dc.col[g.bg];
 	}
@@ -1692,7 +1735,7 @@ xfinishdraw(void)
 			win.h, 0, 0);
 	XSetForeground(xw.dpy, dc.gc,
 			dc.col[IS_SET(MODE_REVERSE)?
-				defaultfg : defaultbg].pixel);
+				seloptsch->defaultfg : seloptsch->defaultbg].pixel);
 }
 
 void
@@ -2026,11 +2069,11 @@ run(void)
 void
 usage(void)
 {
-	die("usage: %s [-aiv] [-c class] [-f font] [-g geometry]"
+	die("usage: %s [-aiv] [-S colorscheme] [-c class] [-f font] [-g geometry]"
 	    " [-n name] [-o file]\n"
 	    "          [-T title] [-t title] [-w windowid]"
 	    " [[-e] command [args ...]]\n"
-	    "       %s [-aiv] [-c class] [-f font] [-g geometry]"
+	    "       %s [-aiv] [-S colorscheme] [-c class] [-f font] [-g geometry]"
 	    " [-n name] [-o file]\n"
 	    "          [-T title] [-t title] [-w windowid] -l line"
 	    " [stty_args ...]\n", argv0, argv0);
@@ -2047,6 +2090,10 @@ main(int argc, char *argv[])
 	case 'a':
 		allowaltscreen = 0;
 		break;
+	case 'A':
+		alpha = strtof(EARGF(usage()), NULL);
+		LIMIT(alpha, 0.0, 1.0);
+		break;
 	case 'c':
 		opt_class = EARGF(usage());
 		break;
@@ -2083,6 +2130,9 @@ main(int argc, char *argv[])
 	case 'v':
 		die("%s " VERSION "\n", argv0);
 		break;
+	case 'S':
+		seloptschname = EARGF(usage());
+		break;
 	default:
 		usage();
 	} ARGEND;
